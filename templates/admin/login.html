{% extends "admin/base_site.html" %}
{% load i18n static %}

{% block extrastyle %}
{{ block.super }}
<style>
body.login {
    background: linear-gradient(135deg, var(--sidebar-bg) 0%, var(--primary) 100%) !important;
    min-height: 100vh !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
}

body.login #header {
    display: none !important;
}

body.login #container {
    width: 100% !important;
    max-width: 440px !important;
    padding: 24px !important;
}

body.login #content {
    padding: 0 !important;
    background: transparent !important;
    border: none !important;
    box-shadow: none !important;
}

body.login #content-main {
    background: white !important;
    border-radius: 16px !important;
    box-shadow: 0 20px 60px rgba(0,0,0,0.3) !important;
    overflow: hidden;
}

.login-header {
    background: var(--sidebar-bg);
    color: white;
    padding: 24px;
    text-align: center;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
}

.login-header .logo {
    width: 44px;
    height: 44px;
    background: var(--primary);
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.login-header .logo svg {
    width: 24px;
    height: 24px;
    fill: white;
}

.login-header h1 {
    margin: 0 !important;
    font-size: 18px !important;
    font-weight: 700 !important;
}

body.login form {
    padding: 32px 24px !important;
}

body.login .form-row {
    margin-bottom: 20px !important;
    padding: 0 !important;
    border: none !important;
}

body.login .form-row label {
    display: block !important;
    margin-bottom: 8px !important;
    font-weight: 600 !important;
    font-size: 13px !important;
    color: var(--text-primary) !important;
}

body.login .form-row input {
    width: 100% !important;
    padding: 14px 16px !important;
    border: 2px solid var(--border) !important;
    border-radius: 8px !important;
    font-size: 15px !important;
    transition: all 0.2s ease !important;
}

body.login .form-row input:focus {
    border-color: var(--primary) !important;
    box-shadow: 0 0 0 3px var(--primary-light) !important;
}

body.login .submit-row {
    padding: 0 24px 24px !important;
    margin: 0 !important;
    background: transparent !important;
    border: none !important;
}

body.login .submit-row input {
    width: 100% !important;
    padding: 14px !important;
    font-size: 15px !important;
    font-weight: 600 !important;
    border-radius: 8px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    gap: 8px !important;
}

body.login #footer {
    display: none !important;
}

.errornote {
    margin: 16px 24px 0 !important;
}

.password-reset-link {
    text-align: center;
    padding: 16px 24px 24px;
    font-size: 13px;
}

.password-reset-link a {
    color: var(--text-secondary);
}
</style>
{% endblock %}

{% block content_title %}{% endblock %}

{% block breadcrumbs %}{% endblock %}

{% block content %}
<div id="content-main">
    <div class="login-header">
        <div class="logo">
            <svg viewBox="0 0 24 24">
                <path d="M10 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"/>
            </svg>
        </div>
        <h1>DMS Administration</h1>
    </div>
    
    {% if form.errors and not form.non_field_errors %}
    <p class="errornote" style="display: flex; align-items: center; gap: 8px;">
        <span class="material-icons" style="font-size: 18px;">error_outline</span>
        {% if form.errors.items|length == 1 %}{% trans "Please correct the error below." %}{% else %}{% trans "Please correct the errors below." %}{% endif %}
    </p>
    {% endif %}

    {% if form.non_field_errors %}
    {% for error in form.non_field_errors %}
    <p class="errornote" style="display: flex; align-items: center; gap: 8px;">
        <span class="material-icons" style="font-size: 18px;">error_outline</span>
        {{ error }}
    </p>
    {% endfor %}
    {% endif %}

    <form action="{{ app_path }}" method="post" id="login-form">
        {% csrf_token %}
        <div class="form-row">
            {{ form.username.label_tag }}
            {{ form.username }}
        </div>
        <div class="form-row">
            {{ form.password.label_tag }}
            {{ form.password }}
        </div>
        {% url 'admin_password_reset' as password_reset_url %}
        {% if password_reset_url %}
        <div class="password-reset-link">
            <a href="{{ password_reset_url }}">{% trans 'Forgotten your password or username?' %}</a>
        </div>
        {% endif %}
        <div class="submit-row">
            <input type="submit" value="{% trans 'Log in' %}">
        </div>
    </form>
    
    <div style="text-align: center; padding: 0 24px 24px; color: #9aa0a6; font-size: 12px;">
        DMS - HR & Unternehmensdokumente
    </div>
</div>
{% endblock %}
